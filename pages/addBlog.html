<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="icon" type="image/x-icon" href="/images/site-logo.png">
    <title>Ravi Programming</title>
    <link rel="stylesheet" href="/css/addBlog.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

</head>

<body>

    <div class="wallpaper"></div>

    <!------------------ NAVBAR ------------------>
    <header>
        <nav class="navbar">
            <div class="navbar-logo">
                <!-- <img id="site-logo" src="/images/site-logo.png" alt="Website Logo"> -->
                <span class="website-title">Ravi Programming / Writing Blogs</span>
            </div>
            <div class="navbar-links">
                <ul>
                    <li><a id="back-to-homepage" href="/index.html"> Homepage</a></li>
                    <li><a href="#"> Submit </a></li>
                </ul>
            </div>
        </nav>

        <!------------ Blog Form -------------------->
        <div class="blog-form">
            <h2>Write Your Blog</h2>
            <!-- <form id="blogSubmissionForm" action="/php/submit_blog.php" method="POST"> -->
            <form id="blogSubmissionForm">
                <label for="password">Enter Password</label>
                <input type="password" id="password" name="password" required>
                <label for="blogTitle">Blog Title</label>
                <textarea type="textarea" id="blogTitle" name="blogTitle" required></textarea>
                <label for="blogContent">Your Blog </label>
                <textarea id="blogContent" name="blogContent" rows="6" required></textarea>
                <button type="submit">Submit Blog</button>
            </form>
        </div>


        <script>

            document.addEventListener("DOMContentLoaded", function () {
                const blogForm = document.getElementById("blogSubmissionForm");

                blogForm.addEventListener("submit", function (event) {
                    event.preventDefault(); // Prevent default form submission behavior

                    const password = document.getElementById("password").value;
                    const blogTitle = document.getElementById("blogTitle").value;
                    const blogContent = document.getElementById("blogContent").value;

                    if (password === "passwordForBlog") {
                        const currentDate = new Date().toLocaleDateString();
                        const blogData = `Title: ${blogTitle}\nDate: ${currentDate}\n\n${blogContent}\n\n`;

                        saveBlogToLocalStorage(blogData);
                        alert("Blog submitted successfully!");

                    } else {
                        alert("Incorrect password. Blog submission failed.");
                    }

                });

                function saveBlogToLocalStorage(blogData) {
                    const existingBlogs = localStorage.getItem("blogs");

                    if (existingBlogs) {
                        localStorage.setItem("blogs", existingBlogs + "\n\n" + blogData);
                    } else {
                        localStorage.setItem("blogs", blogData);
                    }
                }
            });

        </script>


</body>

</html>